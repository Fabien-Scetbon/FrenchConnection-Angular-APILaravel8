<div class="row align-items-center h100">

  <div class="col s8 left-align">
    <img src="/assets/images/salon.jpg" alt="salon" class="responsive-img float-left" />
  </div>

  <!-- <div class="col-md-12 mt-5 form-wrapper"> -->
  <div class="card container col s12"  style="margin: 3%; padding: 3%;">
    <i class="large material-icons center-align">account_circle</i>

    <div class="card-title center-align blue-text text-darken-2 mt-3 pt-3">
      <link rel="preconnect" href="https://fonts.googleapis.com" />
      <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
      <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital@1&display=swap"
        rel="stylesheet"
      />
      <p>Inscrivez-vous !</p>
    </div>

    <form
      *ngIf="!isSuccessful"
      name="form"
      (ngSubmit)="f.form.valid && onSubmit()"
      #f="ngForm"
      novalidate
    >
      <!-- Role admin -->
      <div class="" *ngIf="isLoggedIn">
        <label for="role">Role</label>
        <div
          type="text"
          style="color: brown"
          class="form-control"
          name="role"
          [(ngModel)]="form.role"
          #role="ngModel"
        >
          {{ form.role }}
        </div>
      </div>

      <!-- Role admin -->
      <div class="form-group" *ngIf="isLoggedIn">
        <label for="role_id">Role_id</label>
        <input
          type="number"
          class="form-control"
          id="role_id"
          name="role_id"
          [(ngModel)]="form.role_id"
          min="1"
          max="4"
          #role_id="ngModel"
        />
      </div>

      <!-- Username -->
      <div class="row">
        <div class="input-field col s12">
          <input
            type="text"
            id="auto-input"
            class="autocomplete col s6"
            id="username"
            name="username"
            [(ngModel)]="form.username"
            required
            minlength="3"
            maxlength="20"
            #username="ngModel"
          />
          <label for="auto-input">Pseudo</label>
          <div class="alert-danger" *ngIf="username.errors && f.submitted">
            <div *ngIf="username.errors['required']">Le pseudo est requis</div>
            <div *ngIf="username.errors['minlength']">
              Username must be at least 3 characters
            </div>
            <div *ngIf="username.errors['maxlength']">
              Username must be at most 20 characters
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="form-group">
        <label for="username">Username</label>
        <input
          type="text"
          class="form-control"
          name="username"
          [(ngModel)]="form.username"
          required
          minlength="3"
          maxlength="20"
          #username="ngModel"
        /> -->
      <!-- <div class="alert-danger" *ngIf="username.errors && f.submitted">
          <div *ngIf="username.errors['required']">Username is required</div>
          <div *ngIf="username.errors['minlength']">
            Username must be at least 3 characters
          </div>
          <div *ngIf="username.errors['maxlength']">
            Username must be at most 20 characters
          </div>
        </div>
      </div> -->

      <!-- Email -->

      <div class="row">
        <div class="input-field col s12">
          <input
            type="email"
            id="email"
            class="autocomplete"
            name="email"
            [(ngModel)]="form.email"
            required
            email
            #email="ngModel"
          />
          <label for="auto-input">Email</label>
          <div class="alert-danger" *ngIf="email.errors && f.submitted">
            <div *ngIf="email.errors['required']">L'email est obligatoire</div>
            <div *ngIf="email.errors['email']">
              Email doit-être une adresse valide
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="form-group">
        <label for="email">Email</label>
        <input class=" groupe1 col s3" type="email" class="form-control" name="email" [(ngModel)]="form.email" required
          email #email="ngModel" />
        <div class="alert-danger" *ngIf="email.errors && f.submitted">
          <div *ngIf="email.errors['required']">Email is required</div>
          <div *ngIf="email.errors['email']">
            Email must be a valid email address
          </div>
        </div>
      </div> -->

      <!-- Addresse -->

      <div class="row">
        <div class="input-field col s12">
          <input
            type="text"
            id="address"
            class="autocomplete"
            name="address"
            [(ngModel)]="form.address"
            required
            #address="ngModel"
          />
          <label for="auto-input">Adresse</label>
          <div class="alert-danger" *ngIf="address.errors && f.submitted">
            <div *ngIf="address.errors['required']">L'adresse est requise</div>
          </div>
        </div>
      </div>

      <!-- <div class="form-group">
        <label for="address">Address</label>
        <input type="text" class="form-control" name="address" [(ngModel)]="form.address" required #address="ngModel" />
        <div class="alert-danger" *ngIf="address.errors && f.submitted">
          <div *ngIf="address.errors['required']">Address is required</div>
        </div>
      </div> -->

      <!-- Téléphone -->
      <div class="row">
        <div class="input-field col s12">
          <input
            type="text"
            id="phone"
            class="autocomplete"
            name="phone"
            [(ngModel)]="form.phone"
            required
            #phone="ngModel"
          />
          <label for="auto-input">Télephone</label>
          <div class="alert-danger" *ngIf="phone.errors && f.submitted">
            <div *ngIf="phone.errors['required']">Téléphone requis</div>
          </div>
        </div>
      </div>

      <!-- <div class="form-group">
          <label for="phone">Phone</label>
          <input type="text" class="form-control" name="phone" [(ngModel)]="form.phone" required #phone="ngModel" />
          <div class="alert-danger" *ngIf="phone.errors && f.submitted">
            <div *ngIf="phone.errors['required']">Phone is required</div>
          </div>
        </div> -->

      <div class="row">
        <div class="input-field col s12">
          <input
            type="password"
            id="password"
            class="autocomplete"
            name="password"
            [(ngModel)]="form.password"
            required
            minlength="6"
            #password="ngModel"
          />
          <label for="auto-input">Mot de passe</label>
          <div class="alert-danger" *ngIf="password.errors && f.submitted">
            <div *ngIf="password.errors['required']">
              Le mot de passe est requis
            </div>
            <div *ngIf="password.errors['minlength']">
              Le mot de passe doit avoir au moins 6 charactères
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="form-group">
          <label for="password">Password</label>
          <input type="password" class="form-control" name="password" [(ngModel)]="form.password" required minlength="6"
            #password="ngModel" />
          <div class="alert-danger" *ngIf="password.errors && f.submitted">
            <div *ngIf="password.errors['required']">Password is required</div>
            <div *ngIf="password.errors['minlength']">
              Password must be at least 6 characters
            </div>
          </div>
        </div> -->

      <!-- password_confirmation -->

      <div class="row">
        <div class="input-field col s12">
          <input
            type="password"
            id="password_confirmation"
            class="autocomplete"
            name="password_confirmation"
            [(ngModel)]="form.password_confirmation"
            required
            minlength="6"
            #password_confirmation="ngModel"
          />
          <label for="auto-input">Mot de passe de confirmation</label>
          <div class="alert-danger" *ngIf="password.errors && f.submitted">
            <div *ngIf="password.errors['required']">{{ errorMessage }}</div>
            <div *ngIf="password.errors['minlength']">
              Le mot de passe doit avoir au moins 6 charactères
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="form-group">
          <label for="password_confirmation">Password confirmation</label>
          <input type="password" class="form-control" name="password_confirmation"
            [(ngModel)]="form.password_confirmation" required minlength="6" #password_confirmation="ngModel" />
          <div class="alert-danger" *ngIf="password.errors && f.submitted">
            <div *ngIf="password.errors['required']">{{ errorMessage }}</div>
            <div *ngIf="password.errors['minlength']">
              Password must be at least 6 characters
            </div>
          </div>
        </div> -->

      <div class="form-group center-align">
        <button class="btn waves-effect waves-teal text-white">
          S'enregister
        </button>
      </div>

      <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
        Echec de l'enregistrement !<br />{{ errorMessage }}
      </div>
    </form>

    <div class="alert alert-success" *ngIf="isSuccessful">
      Vous êtes bien enregistré !
    </div>
  </div>
</div>